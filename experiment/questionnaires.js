// FaceFake3 questionnaires
var questionnaires_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus:
        "<h1>Questionnaires</h1>" +
        "<p>Great! We will continue with a series of questionnaires about your personality.<br>Again, it is important that you answer truthfully. Please read the statements carefully and answer according to what describe you the best.</p>",
    choices: ["Continue"],
    data: { screen: "part_instructions" },
}

// Generation code ==========================================================================================================
// Convenience function to shuffle an object (used internally)
function shuffleObject(obj) {
    const entries = Object.entries(obj)
    for (let i = entries.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1))
        ;[entries[i], entries[j]] = [entries[j], entries[i]]
    }
    return Object.fromEntries(entries)
}

// Attitudes towards AI ====================================================================================================
// Beliefs about Artificial Images Technology (BAIT) v2.2
// History:
// - 1.0: BAIT-Original: Items specifically about CGI and artificial media originally in Makowski 2025 (FakeFace)
// - 2.0: BAIT-14: Validated in FictionEro (with new items + removal of "I think"), where it was mixed with the 6 most
//   loading items of the positive and negative attitutes dimensions from the General Attitudes towards
//   Artificial Intelligence Scale (GAAIS; Schepman et al., 2020, 2022)
// - BAIT-14: Used in FakeNewsValidation
// - 2.1: BAIT-12: Used in FakeFace2.
//   - Removed 2 GAAIS items (GAAIS_Negative_9, GAAIS_Positive_7)
//   - Replaced "Artificial Intelligence" with "AI
//   - Change display (Analog scale -> Likert scale)
// - 2.1: BAIT-12: Used in FictionEro 2
// - 2.2: BAIT-14: Used in FictionArt and FictionFilm
//   - Added 2 new items about art

const bait_items = {
    // BAIT-12 items used in FakeFace2 study
    BAIT_1_ImagesRealistic:
        "Current AI algorithms can generate very realistic images",
    BAIT_2_ImagesIssues:
        "Images of faces or people generated by AI always contain errors and artifacts",
    BAIT_3_VideosIssues:
        "Videos generated by AI have obvious problems that make them easy to spot as fake",
    BAIT_4_VideosRealistic:
        "Current AI algorithms can generate very realistic videos",
    BAIT_5_ImitatingReality:
        "Computer-Generated Images (CGI) are capable of perfectly imitating reality",
    BAIT_6_EnvironmentReal:
        "Technology allows the creation of environments that seem just as real as reality",
    BAIT_7_TextRealistic:
        "AI assistants can write texts that are indistinguishable from those written by humans",
    BAIT_8_TextIssues:
        "Documents and paragraphs written by AI usually read differently compared to Human productions",

    // Attitudes (adapted from GAAIS; Schepman et al., 2023)
    BAIT_9_Dangerous: "AI is dangerous",
    BAIT_10_Worry: "I am worried about future uses of AI",
    BAIT_11_Exciting: "AI is exciting",
    BAIT_12_Benefit: "Much of society will benefit from a future full of AI",

    // Additional art related items
    BAIT_13_ArtIssues:
        "Human-made art evokes stronger emotional responses than AI-generated art",
    BAIT_14_ArtRealistic:
        "AI-generated art can sometimes surpass human creativity and artistic value",

    BAIT_AttentionCheck:
        "I can show that I am Human and not an AI by answering all the way to the right",
}

function make_bait(items, required = true, ticks = ["Disagree", "Agree"]) {
    items = shuffleObject(items)

    // AI Expertise
    var ai_expertise = [
        {
            title: "How knowledgeable do you consider yourself about Artificial Intelligence (AI) technology?",
            name: "BAIT_AI_Knowledge",
            type: "rating",
            displayMode: "buttons",
            isRequired: required,
            minRateDescription: "Not at all",
            maxRateDescription: "Expert",
            rateValues: [0, 1, 2, 3, 4, 5, 6],
        },
        {
            title: "How frequently do you use Artificial Intelligence (AI) tools or technologies in your daily life? ",
            description:
                "This includes tools like ChatGPT, image or art generators, and AI assistants.",
            name: "BAIT_AI_Use",
            type: "radiogroup",
            isRequired: required,
            choices: [
                "Never",
                "A few times per month",
                "A few times per week",
                "Once a day",
                "A few times per day",
            ],
        },
    ]

    questions = []

    // Make questions
    for (const key of Object.keys(items)) {
        q = {
            title: items[key],
            name: key,
            type: "rating",
            displayMode: "buttons",
            // scaleColorMode: "colored",
            isRequired: required,
            minRateDescription: ticks[0],
            maxRateDescription: ticks[1],
            rateValues: [0, 1, 2, 3, 4, 5, 6],
        }
        questions.push(q)
    }

    return [
        { elements: ai_expertise },
        {
            elements: questions,
            description:
                "We are interested in your thoughts about Artificial Intelligence (AI). Please read the statements below carefully and indicate the extent to which you agree with each statement.",
        },
    ]
}

const questionnaire_bait = {
    type: jsPsychSurvey,
    survey_json: function () {
        return {
            title: "Artificial Intelligence",
            showQuestionNumbers: false,
            goNextPageAutomatic: true,
            pages: make_bait(bait_items),
        }
    },
    data: {
        screen: "questionnaire_bait",
    },
}

// MIST-8
// Rakoen Maertens et al., 2024
// https://doi.org/10.3758/s13428-023-02124-2

const mist_items = {
    // Fake general items
    MIST_fake_general_1:
        "Government Officials Have Manipulated Stock Prices to Hide Scandals",
    MIST_fake_general_2:
        "New Study: Left-Wingers Are More Likely to Lie to Get a Higher Salary",
    MIST_fake_general_3:
        "Certain Vaccines Are Loaded with Dangerous Chemicals and Toxins",
    MIST_fake_general_4:
        "The Government Is Knowingly Spreading Disease Through the Airwaves and Food Supply",
    // Real general items
    MIST_real_general_1:
        "Attitudes Toward EU Are Largely Positive, Both Within Europe and Outside It",
    MIST_real_general_2: "Hyatt Will Remove Small Bottles from Hotel Bathrooms",
    MIST_real_general_3:
        "Republicans Divided in Views of Trump's Conduct, Democrats Are Broadly Critical",
    MIST_real_general_4:
        "Global Warming Age Gap: Younger Americans Most Worried",
}

function make_mist(items) {
    items = shuffleObject(items)

    questions = [
        {
            type: "html",
            name: "MIST_instructions",
            html: "The following news headlines are a combination of real, published headlines and fake headlines designed to look like real ones. Please read the following news headlines and rate them on a scale from 'Fake' to 'Real' with the middle meaning unsure and closer to each end of the scale indicating greater confidence in your answer.",
        },
    ]

    //Make questions
    for (const key of Object.keys(items)) {
        q = {
            title: items[key],
            name: key,
            type: "slider",
            isRequired: true,
            min: -1,
            max: 1,
            step: 0.01,
            customLabels: [
                {
                    value: -1,
                    text: "Fake",
                },
                {
                    value: 1,
                    text: "Real",
                },
            ],
            // defaultValue: 0,
        }
        questions.push(q)
    }
    return [
        {
            elements: questions,
        },
    ]
}

const questionnaire_MIST = {
    type: jsPsychSurvey,
    survey_json: function () {
        return {
            title: "News Headlines",
            showQuestionNumbers: false,
            goNextPageAutomatic: true,
            pages: make_mist(mist_items),
        }
    },
    data: {
        screen: "questionnaire_MIST",
    },
}

// Bullshit receptive scale (BRS)
// Pennycook et al., 2015
// https://doi:10.1017/S1930297500006999

const BRS_items = {
    BRS_1: "Hidden meaning transforms unparalleled abstract beauty",
    BRS_2: "Good health imparts reality to subtle creativity",
    BRS_3: "Wholeness quiets infinite phenomena",
    BRS_4: "The future explains irrational facts",
    BRS_5: "Imagination is inside exponential space time events",
    BRS_6: "We are in the midst of a self-aware blossoming of being that will align us with the nexus itself",
    BRS_7: "Consciousness consists of frequencies of quantum energy. “Quantum” means an unveiling of the unrestricted",
    BRS_8: "Consciousness is the growth of coherence, and of us",
    BRS_9: "We are in the midst of a high-frequency blossoming of interconnectedness that will give us access to the quantum soup itself",
    BRS_10: "Today, science tells us that the essence of nature is joy",
    BRS_Attention:
        "Wholeness is found in simple choices, select all the way to the right to show you are paying attention",
}

function make_BRS(items) {
    items = shuffleObject(items)

    questions = [
        {
            type: "html",
            name: "BRS_instructions",
            html: "TWe are interested in how people experience the profound. Below are a series of statements taken from relevant websites. Please read each statement and take a moment to think about what it might mean. Then please rate how “profound” you think it is. Profound means “of deep meaning; of great and broadly inclusive significance.",
        },
    ]

    //Make questions
    for (const key of Object.keys(items)) {
        q = {
            title: items[key],
            name: key,
            type: "rating",
            displayMode: "buttons",
            isRequired: true,
            minRateDescription: "Not at all profound",
            maxRateDescription: "Very profound",
            rateValues: [1, 2, 3, 4, 5],
        }
        questions.push(q)
    }
    return [
        {
            elements: questions,
        },
    ]
}

const questionnaire_BRS = {
    type: jsPsychSurvey,
    survey_json: function () {
        return {
            title: "Profound Experiences",
            showQuestionNumbers: false,
            goNextPageAutomatic: true,
            pages: make_BRS(BRS_items),
        }
    },
    data: {
        screen: "questionnaire_BRS",
    },
}
